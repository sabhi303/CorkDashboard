extends ../layout

include ../themes/themes__subnav.pug
include ../component/theme__header
include ../component/theme__text-chart

block append head
    link(rel='stylesheet', href='/stylesheets/bcd-d3-charts.css')
    link(rel='stylesheet', href='/stylesheets/components/bcd-spinner.css')
    link(rel='stylesheet', href='/stylesheets/components/bcd-subnav.css')
    link(rel='stylesheet', href='/stylesheets/themes/themes.css')
    link(rel='stylesheet', href='https://unpkg.com/leaflet@1.3.1/dist/leaflet.css')
    script(src="/lib/d3v5/d3.min.js" type="text/javascript" defer)
    script(src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js" defer)
    script(src="https://unpkg.com/leaflet.markercluster@1.3.0/dist/leaflet.markercluster.js" defer)
    script(src="/lib/proj4.js" type="text/javascript" defer)

block navigation
    +bcd-navbar("bcd-navbar","/","Cork Dashboard", "Themes")
    +themes__subnav("subnav")

block content 
    each theme in themes
        #theme
            +theme__header({
                id: theme.id,
                title: theme.title,
                description: theme.description,
                moreinfo: theme.moreinfo,
                scrollref: theme.scrollref
            })
            each chart in theme.charts
                +theme__text-chart({
                    id: chart.id,
                    sources: chart.sources,
                    title: chart.title,
                    description: chart.description,
                    chartinfo: chart.chartinfo,
                    chartids: chart.chartids,
                    buttons: chart.buttons,
                    plotoptions: chart.plotoptions
                })

block append scripts
